"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5976],{35976:function(n,e,r){r.d(e,{Z:function(){return Xn}});var t,o,i,a,d,l,c,s,u,m=r(50029),p=r(87794),f=r.n(p),h=r(11752),x=r.n(h),g=r(71383),v=r(51192),_=r(62586),y=r.n(_),b=y().TOKENS.BREAKPOINTS,w=v.default.div(t||(t=(0,g.Z)(["\n  width: 100%;\n"]))),Z=v.default.div(o||(o=(0,g.Z)(["\n  min-width: 100vw;\n  height: 6.5625rem;\n  background: #f7f7fd;\n  position: relative;\n  left: 0;\n  right: 0;\n"]))),j=v.default.img(i||(i=(0,g.Z)(["\n  z-index: -1;\n  display: none;\n\n  ","\n"])),b.large(a||(a=(0,g.Z)(["\n    display: flex;\n    width: 100%;\n  "])))),O=v.default.img(d||(d=(0,g.Z)(["\n  display: flex;\n  z-index: -1;\n  width: 100%;\n  max-width: 100%;\n\n  ","\n"])),b.large(l||(l=(0,g.Z)(["\n    display: none;\n  "])))),C=v.default.div(c||(c=(0,g.Z)(["\n  grid-gap: 0rem;\n  grid-column: 1 / span 4;\n  height: 24.0625rem;\n  width: 100%;\n  height: fit-content;\n  display: flex;\n  flex-direction: column;\n  z-index: -2;\n  margin: auto;\n  justify-content: center;\n  align-items: center;\n\n  ","\n\n  ","\n\n  .centered {\n    margin: auto;\n  }\n"])),b.medium(s||(s=(0,g.Z)(["\n    grid-column: 1 / span 8;\n  "]))),b.large(u||(u=(0,g.Z)(["\n    margin: -2rem auto;\n    grid-column: 1 / span 12;\n  "]))));C.displayName="BgImageContainer";var S,T,N,E,k,A,F,L,P,I,M,R,B,K,z,D,q,H,G,V,W,U,Y,$,J,Q,X,nn,en,rn,tn,on,an,dn,ln=r(59499),cn=r(67294),sn=r(39485),un=r(11163),mn=r(27701),pn=r(69603),fn=y().TOKENS.BREAKPOINTS,hn=v.default.div(S||(S=(0,g.Z)(["\n  width: 100%;\n  grid-column: 1 / span 4;\n  ","\n  ","\n"])),fn.medium(T||(T=(0,g.Z)(["\n    grid-column: 3 / span 4;\n  "]))),fn.large(N||(N=(0,g.Z)(["\n    grid-column: 1 / span 12;\n  "])))),xn=v.default.div(E||(E=(0,g.Z)(["\n  display: flex;\n  justify-content: center;\n  z-index: 1;\n  flex-direction: column;\n\n  &:not(.column-version) {\n    margin-bottom: 2rem;\n  }\n\n  ","\n\n  &.column-version {\n    padding: 0;\n  }\n"])),fn.medium(k||(k=(0,g.Z)(["\n  &:not(.column-version) {\n      margin-bottom: -0.75rem;\n      padding: 0;\n    }\n  "])))),gn=v.default.div(A||(A=(0,g.Z)(["\n  display: flex;\n  justify-content: center;\n  margin: 2.5rem auto 2rem auto;\n  z-index: 1;\n\n  ","\n"])),fn.medium(F||(F=(0,g.Z)(["\n    margin-top: 4rem;\n  "])))),vn=v.default.div(L||(L=(0,g.Z)(["\n  &.col-lg-8:last-of-type {\n    margin: auto;\n  }\n\n  &.fixed-height {\n    height: 3.625rem;\n\n    ","\n\n    ","\n  }\n"])),fn.medium(P||(P=(0,g.Z)(["\n      height: 7.5rem;\n    "]))),fn.large(I||(I=(0,g.Z)(["\n      height: 3.625rem;\n    "])))),_n=v.default.div(M||(M=(0,g.Z)(["\n  border: "," 1px solid;\n  border-radius: 0.5rem;\n\n  .MuiAccordion-root {\n    margin: 0;\n    border-radius: 0.5rem;\n  }\n\n  .MuiPaper-root,\n  .MuiAccordion-root,\n  .MuiAccordion-rounded,\n  .MuiPaper-elevation1,\n  .MuiPaper-rounded,\n  .MuiAccordion-rounded:last-child,\n  .MuiAccordion-rounded:first-child {\n    border-radius: 0.5rem;\n  }\n\n  .MuiButtonBase-root.MuiIconButton-root.MuiAccordionSummary-expandIcon.MuiIconButton-edgeEnd {\n    margin: 0 auto auto auto;\n  }\n"])),y().TOKENS.COLORS.neutral.n03),yn=v.default.form(R||(R=(0,g.Z)(["\n  padding: 0;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n\n  ","\n\n  &.column-version {\n    flex-direction: column;\n    padding: 0;\n  }\n"])),fn.large(B||(B=(0,g.Z)(["\n    flex-direction: row;\n    padding: 0 1rem 0 3rem;\n  "])))),bn=v.default.div(K||(K=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  div:last-child {\n    margin: 0;\n  }\n\n  ","\n"])),fn.large(z||(z=(0,g.Z)(["\n    flex-direction: row;\n\n    &.column-version {\n      flex-direction: column;\n    }\n  "])))),wn=v.default.div(D||(D=(0,g.Z)(["\n  width: 100%;\n  margin: 0 0 2rem 0;\n\n  ","\n\n  &.column-version:first-of-type {\n    margin: 1.75rem auto 2.5rem auto;\n  }\n"])),fn.large(q||(q=(0,g.Z)(["\n    margin: 0 1rem 0 0;\n  "])))),Zn=v.default.div(H||(H=(0,g.Z)(["\n  width: 100%;\n  margin-top: 1rem;\n\n  ","\n"])),fn.large(G||(G=(0,g.Z)(["\n    width: auto;\n    margin: 0 1rem;\n\n    &.column-version {\n      margin: 2rem 0;\n    }\n  "])))),jn=v.default.div(V||(V=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),On=v.default.div(W||(W=(0,g.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin-top: 1.5rem;\n  span {\n    font-size: 0.875rem;\n    color: ",";\n    font-weight: bold;\n    text-decoration: underline;\n  }\n"])),y().TOKENS.COLORS.primary.bright),Cn=v.default.div(U||(U=(0,g.Z)(["\n  margin-top: 1rem;\n"]))),Sn=v.default.div(Y||(Y=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin: auto;\n  padding: 1rem;\n\n  &.col-lg-8 {\n    margin: auto;\n  }\n"]))),Tn=v.default.h1($||($=(0,g.Z)(["\n  margin: 2.5rem auto 2rem auto;\n  display: none;\n\n  ","\n"])),fn.large(J||(J=(0,g.Z)(["\n    display: flex;  \n  "])))),Nn=v.default.h2(Q||(Q=(0,g.Z)(["\n  margin: 1.5rem auto;\n\n  ","\n"])),fn.large(X||(X=(0,g.Z)(["\n    display: none;  \n  "])))),En=v.default.div(nn||(nn=(0,g.Z)(["\n  margin-bottom: 1.5rem;\n  color: ",";\n  display: flex;\n\n  span {\n    text-align: center;\n  }\n\n  ","\n"])),y().TOKENS.COLORS.neutral.n02,fn.large(en||(en=(0,g.Z)(["\n    text-align: block;\n  "])))),kn=v.default.h3(rn||(rn=(0,g.Z)(["\n  margin-top: 3rem;\n\n  ","\n"])),fn.large(tn||(tn=(0,g.Z)(["\n  margin-top: 0;\n  "]))));gn.displayName="TitleContainer",Sn.displayName="NotFoundWrapper";var An=v.default.div(on||(on=(0,g.Z)(["\n  display: flex;\n  flex-direction: row;\n"]))),Fn=v.default.div(an||(an=(0,g.Z)(["\n  height: 2rem;\n  width: 2rem;\n  min-width: 2rem;\n  background: ",";\n  border-radius: 100%;\n  margin-right: 1rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),y().TOKENS.COLORS.background.messages.info),Ln=v.default.p(dn||(dn=(0,g.Z)(["\n  font-weight: normal;\n  color: ",";\n  margin: auto;\n\n  b {\n    color: ",";\n  }\n"])),y().TOKENS.COLORS.neutral.n02,y().TOKENS.COLORS.primary.normal);Ln.displayName="AccordeonTitle";var Pn=r(83031),In=r(85893),Mn=function(n){var e=n.accordeonTitle;return(0,In.jsxs)(An,{children:[(0,In.jsx)(Fn,{children:(0,In.jsx)(Pn.SearchMedium,{})}),(0,In.jsx)(Ln,{children:e})]})},Rn=r(94805),Bn=r(73776),Kn=r(56727),zn=r(34277),Dn=r(66434),qn=r(99164),Hn=r(1680),Gn=r(49360),Vn=r(57426);function Wn(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function Un(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wn(Object(r),!0).forEach((function(e){(0,ln.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Wn(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}var Yn=function(n){var e=n.emptyOrders,r=n.columnVersion,t=void 0!==r&&r,o=n.redirect,i=void 0!==o&&o,a=n.getReCaptchaToken,d=(0,sn.useTranslation)().t,l=(0,un.useRouter)().query,c=l.code,s=l.lastname,u=l.lastName,p=s||u,h=(0,cn.useState)(!1),x=h[0],g=h[1],v=(0,cn.useState)(null),_=v[0],y=v[1],b=(0,cn.useState)({code:c||"",lastname:p||""}),w=b[0],Z=b[1],j=(0,cn.useState)({format:{code:!1,lastname:!1},empty:{code:!1,lastname:!1}}),O=j[0],C=j[1],S=(0,cn.useState)(!1),T=S[0],N=S[1],E=(0,cn.useContext)(mn.S),k=E.user,A=E.lang,F=E.country,L=E.home,P=E.originalCountry,I=(0,cn.useState)(/^[a-zA-Z]{6}$/.test(c)?"pnr":"id"),M=I[0],R=I[1],B=pn.ZP.searchOrderByCode,K=null===k||void 0===k?void 0:k.nickName,z=K?(0,Dn.kC)(K):"",D=d(i?"xp_order_web_myTrips_searchOrderLoggedAccordeonTitle":"xp_order_web_myTrips_searchOrderNotFoundAccordeonTitle"),q=function(n){var e=n.target,r=e.name,t=e.value;Z(Un(Un({},w),{},(0,ln.Z)({},r,t)))},H=function(n,e){var r={code:{empty:d("xp_order_web_searchCodeHome_inputEmptyFieldError",{output:"string"}),format:d("xp_order_web_searchCodeHome_inputCodeError",{output:"string"})},lastname:{empty:d("xp_order_web_searchCodeHome_inputLastnameEmpty",{output:"string"}),format:d("xp_order_web_searchCodeHome_inputLastnameError",{output:"string"})}}[n][e];Gn.Z.sendGA4ExclusiveEvent("validationLog",{field:n,message:r})},G=function(){var n=(0,m.Z)(f().mark((function n(){var e,r,t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=w.lastname,(r=w.code).trim()||e.trim()){n.next=7;break}H("code","empty"),H("lastname","empty"),C(Un(Un({},O),{},{empty:{code:!0,lastname:!0}})),n.next=32;break;case 7:if(r.trim()){n.next=12;break}H("code","empty"),C(Un(Un({},O),{},{empty:{code:!0,lastname:!1}})),n.next=32;break;case 12:if(e.trim()){n.next=17;break}H("lastname","empty"),C(Un(Un({},O),{},{empty:{code:!1,lastname:!0}})),n.next=32;break;case 17:if(Y(r)){n.next=21;break}C(Un(Un({},O),{},{format:{code:!0}})),n.next=32;break;case 21:if(U(e)){n.next=25;break}C(Un(Un({},O),{},{format:{lastname:!0}})),n.next=32;break;case 25:if(!U(e)||!Y(r)){n.next=32;break}return C(Un(Un({},O),{},{format:{lastname:!1,code:!1}})),N(!1),n.next=30,a();case 30:(t=n.sent)?(Gn.Z.sendGA4ExclusiveEvent("search",{type:r}),Q(e,r,t)):window.location.href=(0,Hn.S)("".concat((0,Dn.th)(Dn.f4.error,L,A,P),"?status=error"));case 32:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),V=function(){N(!0)},W=function(n,e,r){n.test(e)?C({empty:(0,ln.Z)({},r,!1),format:(0,ln.Z)({},r,!1)}):(H(r,"format"),C({empty:(0,ln.Z)({},r,!1),format:(0,ln.Z)({},r,!0)}))},U=function(n){return zn.ef.test(n)},Y=function(n){return zn.LS.test(n)},$={lastname:function(n,e){W(zn.ef,e,n)},code:function(n,e){W(zn.LS,e,n)}},J=function(n){var e=n.target,r=e.name,t=e.value;return $[r](r,t)},Q=function(){var n=(0,m.Z)(f().mark((function n(e,r,t){var o,a,d,l,c,s,u,m,p,h,x,v,_,b,w,Z,j,O,C,S,T,N,E,k,I,M,K,z,D,q,H;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Gn.Z.registerEvent({event:"interactive",action:"Search order box".concat(i?"":" not found"),label:"Search",interaction:!0}),"searchOrderFirstLevel",v=/^[a-zA-Z]{6}$/.test(r)?"pnr":"id",R(v),y("loading"),(0,Dn.FB)("MyBookings"),n.next=8,B({lastname:e,code:r,token:t},L,A,F,P,"searchOrderFirstLevel");case 8:_=n.sent,b=303===(null===_||void 0===_?void 0:_.code),w=404===(null===_||void 0===_||null===(o=_.data)||void 0===o?void 0:o.status),Z=(null===_||void 0===_||null===(a=_.data)||void 0===a||null===(d=a.validate)||void 0===d||null===(l=d.response)||void 0===l?void 0:l.code)===qn.ZP.redirectContactCenter,j="OK"===(null===_||void 0===_||null===(c=_.data)||void 0===c||null===(s=c.validate)||void 0===s||null===(u=s.response)||void 0===u?void 0:u.code),O=null===_||void 0===_||null===(m=_.data)||void 0===m||null===(p=m.validate)||void 0===p||null===(h=p.response)||void 0===h||null===(x=h.order)||void 0===x?void 0:x.pendingDocs,b?window.location.href=(0,Hn.S)("".concat((0,Dn.th)(Dn.f4.redirect.digital,L,A,P)),{trip:!0,pnr:r}):w?i?window.location.href=(0,Hn.S)((0,Dn.th)(Dn.f4.orderNotFound,L,A,P),{code:r,lastname:e}):(rn(),g(!0),y(null)):Z?window.location.href=(0,Hn.S)((0,Dn.th)(Dn.f4.contacCenter,L,A,P)):O?(k=null!==(C=null===_||void 0===_||null===(S=_.data)||void 0===S||null===(T=S.validate)||void 0===T||null===(N=T.response)||void 0===N||null===(E=N.order)||void 0===E?void 0:E.id)&&void 0!==C?C:null,"documentation-request",I="/".concat(P,"/").concat(A,"/check-in"),M="".concat(I,"/").concat("documentation-request","?orderId=").concat(k,"&lastName=").concat(e),window.location.href=M):j?window.location.href=(0,Hn.S)("".concat((0,Dn.th)(Dn.f4.secondDetail,L,A,P)),{orderId:null!==(K=null===_||void 0===_||null===(z=_.data)||void 0===z||null===(D=z.validate)||void 0===D||null===(q=D.response)||void 0===q||null===(H=q.order)||void 0===H?void 0:H.id)&&void 0!==K?K:null,lastname:e}):(g(!0),y(null)),y(null);case 16:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}(),X=i?"":" fixed-height",nn={id:Vn.Z.xp_order_web_searchCode_notFoundIDContent1,pnr:Vn.Z.xp_order_web_searchCode_notFoundPNRContent1},en=function(n){return(0,In.jsxs)(yn,{className:n?"column-version":"",children:[(0,In.jsxs)(jn,{children:[(0,In.jsxs)(bn,{className:n?"column-version":"",children:[(0,In.jsx)(wn,{className:n?"column-version":"",children:(0,In.jsx)(Bn.TextField,{autoComplete:"off",label:d("xp_order_web_search_orderNumberReservationCode"),id:"code",name:"code",required:!0,onBlur:J,error:O.format.code||O.empty.code,helperText:O.format.code&&d("xp_order_web_searchCode_inputCodeError")||O.empty.code&&d("xp_order_web_searchCode_inputEmptyFieldError"),onChange:q,value:w.code,ariaLabel:d("xp_order_web_myTrips_codeInputSrOnly",{output:"string"})})}),(0,In.jsx)(wn,{children:(0,In.jsx)(Bn.TextField,{autoComplete:"off",label:d("xp_order_web_search_passengerLastName"),id:"lastname",name:"lastname",required:!0,onBlur:J,error:O.format.lastname||O.empty.lastname,onFocus:V,helperText:O.format.lastname&&d("xp_order_web_searchCode_inputCodeError")||O.empty.lastname&&d("xp_order_web_searchCode_inputLastNameEmptyError"),onChange:q,value:w.lastname,ariaLabel:d("xp_order_web_myTrips_lastnameInputSrOnly",{output:"string"})})})]}),T&&(0,In.jsx)(Cn,{"aria-hidden":!0,children:(0,In.jsx)(Bn.Alert,{id:"lastname-alert",severity:"info",children:(0,In.jsx)("p",{children:d("xp_order_web_searchCode_alertLastname")})})}),(0,In.jsx)(On,{children:(0,In.jsxs)(Kn.DialogSideRight,{path:"#order-information-modal",title:d("xp_order_web_orderInfo_pageTitle"),lgSize:5,body:Rn.Z,children:[(0,In.jsx)("div",{"aria-hidden":!0,children:d("xp_order_web_myTrips_searchOrderWhereToFind")}),(0,In.jsx)(Bn.SrLabelText,{children:d("xp_order_web_myTrips_tripsInfoSrOnly",{output:"string"})})]})})]}),(0,In.jsx)(Zn,{className:n?"column-version":"",children:(0,In.jsx)(Bn.Button,{id:"search-order",variant:n?"secondary":"primary",disabled:!!n&&!!_,onClick:G,progress:_,fullWidth:!0,children:d("xp_order_web_searchCode_searchBtn")})})]})},rn=function(){Gn.Z.registerPageEvent(k,F,A,P,{subFamily:"MyBookings",pageName:"NoSearchResults",action:"View",custom:{transactionName:"MyBookings",responseName:Vn.Z.xp_order_web_searchCode_notFoundTitle,message:nn[M||"id"]}})};return(0,cn.useEffect)((function(){i||rn()}),[]),(0,In.jsxs)(hn,{children:[e&&!x&&(0,In.jsx)(gn,{children:(0,In.jsx)("h2",{children:k?d("xp_order_web_myTrips_emptyTravelsTitleUser",{interpolation:{userName:z}}):d("xp_order_web_myTrips_emptyTravelsTitleNoUser",{interpolation:{output:"string"}})})}),!i&&(0,In.jsxs)(Sn,{id:"not-found-info-".concat(M),"aria-live":"polite",children:[(0,In.jsx)(Nn,{children:d("xp_order_web_searchCode_notFoundTitle",{output:"string"})}),(0,In.jsx)(Tn,{children:d("xp_order_web_searchCode_notFoundTitle",{output:"string"})}),(0,In.jsx)(En,{children:d({id:"xp_order_web_orderNotFound_OrderIdInfo",pnr:"xp_order_web_orderNotFound_PnrInfo"}[M])})]}),(0,In.jsx)(xn,{className:t?"column-version":"",children:(0,In.jsxs)(vn,{className:t?X:"".concat(X),children:[t&&(0,In.jsx)(kn,{children:d("xp_order_web_searchCode_title",{output:"string"})}),!t&&(0,In.jsx)(_n,{children:(0,In.jsx)(Bn.AccordionGroup,{id:"accordeon-search-orders",children:(0,In.jsx)(Bn.AccordionItem,{id:"accordeon-search-orders",label:(0,In.jsx)(Mn,{accordeonTitle:D}),defaultExpanded:!1,children:en()})})}),t&&en(!0)]})})]})},$n=r(17491),Jn=x()().publicRuntimeConfig,Qn=function(){var n=(0,m.Z)(f().mark((function n(){var e,r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Jn.RECAPTCHA_MYTRIPS_KEY,n.prev=1,n.next=4,window.grecaptcha.execute(r,{action:"submit"});case 4:e=n.sent,n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",null);case 10:return n.abrupt("return",e);case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(){return n.apply(this,arguments)}}(),Xn=function(n){var e=n.emptyOrders,r=n.columnVersion,t=void 0!==r&&r,o=n.redirect,i=void 0!==o&&o,a=n.latamGrid,d=void 0===a||a;return(0,In.jsxs)(w,{className:d?"latam-grid":"",children:[(0,In.jsx)(Yn,{emptyOrders:e,columnVersion:t,redirect:i,getReCaptchaToken:Qn}),!i&&(0,In.jsxs)(C,{children:[(0,In.jsx)(j,{src:"".concat((0,$n.ql)("xp_order_airportDesk.png")),alt:""}),(0,In.jsx)("div",{className:"centered",children:(0,In.jsx)(O,{src:"".concat((0,$n.ql)("xp_order_airportMobile.png")),alt:""})}),(0,In.jsx)(Z,{})]})]})}}}]);