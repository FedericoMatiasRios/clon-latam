"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4211],{39355:function(e,n,t){t.d(n,{Z:function(){return g}});var r,i,a,o=t(39485),l=t(73776),d=t(71383),s=t(51192),c=t(62586),u=t.n(c)().TOKENS.BREAKPOINTS,p=s.default.div(r||(r=(0,d.Z)(["\n  .xp-Alert-Title span {\n    font-size: 1rem;\n  }\n  ","\n  ","\n"])),u.medium(i||(i=(0,d.Z)(["\n      margin-top: 1.5rem;\n  "]))),u.large(a||(a=(0,d.Z)(["\n      margin: 0 0 0.75rem 0;\n  "])))),f=t(85893),g=function(e){var n,t,r,i=e.emailAssignment,a=(0,o.useTranslation)().t,d={true:{title:a("xp_order_web_tripManage_Alert_successTitle"),severity:"success"},false:{title:a("xp_order_web_tripManage_Alert_warningTitle"),text:a("xp_order_web_tripManage_Alert_warningText"),severity:"warning"}},s=(null===(n=d[i])||void 0===n?void 0:n.text)||null;return(0,f.jsx)(f.Fragment,{children:d[i]&&(0,f.jsx)(p,{children:(0,f.jsx)(l.Alert,{id:"email-assignment-alert",severity:null===(t=d[i])||void 0===t?void 0:t.severity,title:null===(r=d[i])||void 0===r?void 0:r.title,children:s&&(0,f.jsx)("p",{children:s})})})})}},39455:function(e,n,t){t.d(n,{Z:function(){return Le}});var r,i,a,o,l,d=t(50029),s=t(16835),c=t(87794),u=t.n(c),p=t(67294),f=(0,p.createContext)(),g=f.Provider,m=f,_=t(69603),v=t(44601),x={initial:"fetchExtraAllowances",states:{fetchExtraAllowances:{on:{RECEIVED_DATA:{target:"showModal"},ERROR:{target:"error"}}},showModal:{on:{CHANGE_OD:{target:"showModal"}}},error:{on:{EXIT:{target:"closed"},RESTART:{target:"showForm"}}}}},h=t(39485),b=t(56727),y=t(85893),w=function(e){var n=e.body,t=e.onModalInit,r=e.onModalClose,i=(0,h.useTranslation)().t;return(0,y.jsx)(b.DialogSideRight,{id:"fare-detail-modal",path:"#FareDetail",title:i("xp_order_web_secondDetail_fareDetailTitle",{output:"string"}),closeLabel:i("xp_web_order_fare_detail_close_label",{output:"string"}),body:n,openFromHash:!0,showClose:!0,focusableContent:!1,onModalInit:t,onModalClose:r})},O=t(40810),j=t(90750),S=t(71383),E=t(51192),T=E.default.div(r||(r=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  span {\n    margin-bottom: 1rem;\n    text-align: center;\n  }\n"]))),N=E.default.img(i||(i=(0,S.Z)(["\n  margin: 2.625rem auto 1.125rem;\n  width: 8.25rem;\n  height: 8.25rem;\n"]))),D=t(50082),k=function(){(0,D.SL)().sendErrorEvent({action:"Cross ancillaries fare details",label:"Fare details modal"});var e=(0,h.useTranslation)().t,n="".concat(O.Ce.imagePath,"/web-order-management/fare-details-modal-error.svg"),t={title:e("xp_order_web_secondDetail_fareDetailErrorTitle",{output:"string"}),subtitle:e("xp_order_web_secondDetail_fareDetailErrorSubTitle",{output:"string"})};return(0,y.jsxs)(T,{children:[(0,y.jsx)(N,{src:n}),(0,y.jsx)(j.Typography,{variant:"heading-06",children:t.title}),(0,y.jsx)(j.Typography,{variant:"paragraph-base",children:t.subtitle})]})},R=t(59499),I=t(47998),C=t(28428),A=t(84804),P=t(15116),Z=t(71249),F=t(76725),L=t(68486),M=t(32913),B=t(3960),U=t(89070),K=t(36690),W=t(62586),V=t.n(W),G=E.default.div(a||(a=(0,S.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 1.25rem;\n  align-items: start;\n"]))),H=E.default.div(o||(o=(0,S.Z)(["\n    display: flex;\n    flex-direction: column;\n    line-height: ",";\n\n    ul {\n        padding-left: 1.125rem;\n    }\n\n    .excluded-link,  .excluded-link:hover, .excluded-link:visited, \n    .excluded-link:focus{\n        text-decoration: none\n        margin-top: 0.8rem;\n        font-weight: ",";\n        color: ",";\n    }\n"])),(function(e){return e.theme.TOKENS.FONTS.lineHeight["05"]}),(function(e){return e.theme.TOKENS.FONTS.weight.bold}),(function(e){return e.theme.TOKENS.COLORS.secondary.normal})),z=E.default.li(l||(l=(0,S.Z)([" \n  a {\n    text-decoration: underline\n    font-weight: ",";\n    color: ",";\n"])),(function(e){return e.theme.TOKENS.FONTS.weight.bold}),(function(e){return e.theme.TOKENS.COLORS.primary.bright}));z.displayName="ItemLatamFlex";var X=t(92777),Y=t(82262),q=t(10748),Q=t(45959),$=t(63553),J=t(37247),ee=t(94858),ne=t(65351);function te(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,J.Z)(e);if(n){var i=(0,J.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,$.Z)(this,t)}}var re=function(e){(0,Q.Z)(t,e);var n=te(t);function t(e,r,i,a){var o;return(0,X.Z)(this,t),o=n.call(this,e,r,i,a),(0,R.Z)((0,q.Z)(o),"keyMap",{expired:{now:"xp_order_web_fareDetail_latamflex_expired_NOW",hours:"xp_order_web_fareDetail_latamflex_expired_HOURS",days:"xp_order_web_fareDetail_latamflex_expired_DAYS"},notExpired:{now:"xp_order_web_fareDetail_latamflex_NOW"}}),o}return(0,Y.Z)(t,[{key:"generateText",value:function(){var e;return this.translate(null!==(e=this.keyMap[this.expiration][this.timeframe])&&void 0!==e?e:this.keyMap[this.expiration][ne.Kp],{returnObjects:!0,interpolation:{count:this.duration,url:this.url}},!0)}}]),t}(ee.c),ie=t(33837),ae=function(e){var n=e.hours,t=e.expired,r=e.section,i=e.urlRefunds,a={fareDetail:re,thirdLevel:ie.F};return(0,y.jsx)(z,{children:new a[r](n,t,i).generateText()})},oe=t(66434),le=t(1680);function de(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function se(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?de(Object(t),!0).forEach((function(n){(0,R.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):de(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ce,ue,pe,fe=function(e){var n=e.type,t=e.titleVariables,r=e.textVariables,i=e.isExcluded,a=void 0!==i&&i,o=e.url,l=e.linkType,d=e.name,s=e.latamFlex,c=e.lang,u=e.country,f=e.plural,g=(0,h.useTranslation)().t,m=V().TOKENS.COLORS.primary.dark,_={bedSeat:{icon:P.PremiumBusiness},foodNormal:{icon:I.Food},foodPremium:{icon:I.Food},seatSelection:{icon:C.Economy,hideDescriptionOnInclude:!0},blockedSeat:{icon:Z.LockedSeat},moreSpaceSeat:{icon:A.PremiumEconomy},personalItem:{icon:M.PersonalItem},checkedInBaggage:{icon:U.LuggageTraveler},carryOnBaggage:{icon:B.HandLuggage},exchanges:{icon:F.CalendarGeneral},exchangesNofees:{icon:F.CalendarGeneral},refundFees:{icon:L.Returns},refundFeesBoarding:{icon:L.Returns}},v=(0,D.SL)(),x=v.sendImpressionEvent,b=v.sendPromotionClickEvent,w=v.hasPromotionImpresion,S=!!l&&"BANNER-".concat(l),E=function(e){return{id:e,name:e,creative:"Cross ancillaries fare details",position:0}},T=function(){var e=oe.f4.thirdDetail;return(0,le.S)((0,oe.rO)("".concat((0,O.Pd)(c)).concat(oe.f4.validateOrder),e,c,u),{refund:!0})};(0,p.useEffect)((function(){Boolean(o)&&Boolean(a)&&Boolean(S)&&(w(S,"Cross ancillaries fare details","promotionImpression")||x(E(S)))}),[]);var N=function(e){return"".concat(e).concat(a?"_excluded":"")},k=_[n],R=null===k||void 0===k?void 0:k.icon,W=(null===k||void 0===k?void 0:k.hideDescriptionOnInclude)&&!a;return Boolean(k)&&(0,y.jsxs)(G,{children:[(0,y.jsx)(R,{color:m}),(0,y.jsxs)(H,{children:[(0,y.jsxs)(j.Typography,{variant:"paragraph-base",color:m,fontWeight:"bold",className:"allowances-title",children:[" ",function(){var e=N("xp_order_web_secondDetail_fareDetail_".concat(n,"Title"));return(f||!1).title&&(e="".concat(e,"_plural")),g(e,{interpolation:t})}(k.title)]}),!W&&(0,y.jsx)(j.Typography,{variant:"paragraph-medium",className:"allowances-description",children:function(){var e,t=N("xp_order_web_secondDetail_fareDetail_".concat(n,"Text")),i=g(t,se(se({returnObjects:!0},r),{},{output:"string"}),!0).split("//"),a=null!==(e=n.includes("refundFees"))&&void 0!==e?e:null;return i.length>1?(0,y.jsxs)("ul",{className:"description-list",children:[null!=s&&a&&(0,y.jsx)(ae,{hours:s.hours,expired:s.expired,section:"fareDetail",lang:c,country:u,urlRefunds:T()}),i.map((function(e,t){return(0,y.jsx)("li",{dangerouslySetInnerHTML:{__html:e}},"".concat(n,"-description-").concat(t))}))]}):(0,y.jsx)("span",{dangerouslySetInnerHTML:{__html:i}})}(k.description)}),o&&a&&(0,y.jsx)(K.Link,{href:o,onClick:function(){b(E(S))},size:"large",target:"_blank",rel:"noopener noreferrer",textStyle:"self-contained",className:"excluded-link","data-testid":"fare-detail-excluded-".concat(n,"-card"),"aria-label":g("xp_order_web_secondDetail_fareDetail_".concat(n,"LinkSr"),{output:"string"}),children:g("xp_order_web_secondDetail_fareDetail_".concat(d,"Link"),{output:"string"})})]})]})},ge=t(15089),me=t(50097),_e=t(91142),ve=E.default.div(ce||(ce=(0,S.Z)(["\n  display: flex;\n  flex-direction: row;\n  padding: 1rem 0;\n  align-items: center;\n"]))),xe=E.default.div(ue||(ue=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  margin: 0 auto;\n  padding: 0 0.5rem;\n"]))),he=(0,E.default)(j.Typography)(pe||(pe=(0,S.Z)(["\n  font-weight: ",";\n  color: ",";\n"])),(function(e){return e.theme.TOKENS.FONTS.weight.bold}),(function(e){return e.theme.TOKENS.COLORS.primary.dark})),be=function(){var e=(0,h.useTranslation)().t,n=(0,p.useState)(0),t=n[0],r=n[1],i=(0,p.useContext)(m),a=i.extraAllowances,o=i.transition,l=a.itinerary,d=l[t].info,s=d.category,c={title:e("xp_order_web_secondDetail_fareDetailOriginDestination",{interpolation:{origin:d.origin,destination:d.destination}}),subtitle:s?e("xp_order_web_secondDetail_fareDetailFare",{interpolation:{fareName:"".concat(s)}}):""},u=function(e){r(t+e),o({type:"CHANGE_SEGMENT",payload:{activeSegmentIndex:t+e}})};return(0,y.jsxs)(ve,{children:[Boolean(l.length>1)&&(0,y.jsx)(ge.IconButton,{"data-testid":"faredetail-left-button",onClick:function(){return u(-1)},variant:"primary",disabled:!t,size:"medium","aria-label":e("xp_order_web_secondDetail_fareDetail_left_button",{output:"string"}),children:(0,y.jsx)(_e.CaretLeftMedium,{})}),(0,y.jsxs)(xe,{children:[(0,y.jsx)(he,{"data-testid":"faredetail-title",variant:"heading-06",children:c.title}),(0,y.jsx)(j.Typography,{"data-testid":"faredetail-subtitle",variant:"paragraph-small",children:c.subtitle})]}),Boolean(l.length>1)&&(0,y.jsx)(ge.IconButton,{"data-testid":"faredetail-right-button",onClick:function(){return u(1)},variant:"primary",disabled:l.length-1===t,size:"medium","aria-label":e("xp_order_web_secondDetail_fareDetail_right_button",{output:"string"}),children:(0,y.jsx)(me.CaretRightMedium,{})})]})},ye=t(39003),we=function(e){var n,t,r=e.extraAllowances,i=e.orderId,a=e.activeIndex,o=e.lang,l=e.country,d=e.lastname,s=(0,h.useTranslation)().t,c={BAGGAGE:s("xp_web_order_fare_detail_alert_baggage"),ADDITIONAL:s("xp_web_order_fare_detail_alert_baggage_seat"),ALL:s("xp_web_order_fare_detail_alert_baggage_seat_fidelity"),BENEFITS:s("xp_web_order_fare_detail_alert_fidelity"),SEAT:s("xp_web_order_fare_detail_alert_seat"),LINK:s("xp_web_order_fare_detail_alert_details")},u=null===r||void 0===r||null===(n=r.itinerary[a])||void 0===n||null===(t=n.info)||void 0===t?void 0:t.showAlertType,p="".concat(o,"-").concat(l),f=(0,le.Z)("".concat(oe.f4.thirdDetail),{orderId:i,lastname:d,segment:0,item:a}),g=(0,oe.th)(f,p,o,l);return(0,y.jsx)(y.Fragment,{children:(null===c||void 0===c?void 0:c[u])&&(0,y.jsxs)("p",{"data-testid":"fare-detail-alert-ancillaries",children:[c[u],(0,y.jsx)(K.Link,{href:g,"data-testid":"fare-detail-alert-link",children:c.LINK})]})})},Oe=function(e){var n,t,r=e.extraAllowances,i=e.activeIndex,a=(0,h.useTranslation)().t,o=null===r||void 0===r||null===(n=r.itinerary[i])||void 0===n||null===(t=n.info)||void 0===t?void 0:t.refundExchangeCase,l={TOTALLY_FLOWN_WITHOUT_REFUND_EXCHANGE:a("xp_web_order_fare_detail_alert_flown_no_refund_exchange"),PARTIALLY_FLOWN_WITHOUT_REFUND_EXCHANGE:a("xp_web_order_fare_detail_alert_partially_flown_no_refund_exchange"),PARTIALLY_FLOWN_WITHOUT_ANY_REFUND:a("xp_web_order_fare_detail_alert_partially_flown_no_refund"),NO_SHOW_WITHOUT_REFUND:a("xp_web_order_fare_detail_alert_no_show_no_refund")};return(0,y.jsx)(y.Fragment,{children:l[o]&&(0,y.jsx)("p",{"data-testid":"fare-detail-alert-disclaimer",children:l[o]})})};function je(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Se(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?je(Object(t),!0).forEach((function(n){(0,R.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ee,Te,Ne,De=function(e){var n,t,r=e.type,i=(0,p.useContext)(m),a=i.extraAllowances,o=i.currentState,l=i.orderId,d=i.lang,s=i.country,c=i.lastname,u=null!==(n=null===o||void 0===o||null===(t=o.payload)||void 0===t?void 0:t.activeSegmentIndex)&&void 0!==n?n:0,f={ancillaries:{component:we,severity:"info"},disclaimer:{component:Oe,severity:"warning"}}[r],g=function(e,n){return function(t){return(0,y.jsx)(ye.Alert,{"aria-live":"off",severity:n,children:(0,y.jsx)(e,Se({},t))})}}(f.component,f.severity);return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(g,{orderId:l,activeIndex:u,lang:d,country:s,extraAllowances:a,lastname:c})})},ke=E.default.div(Ee||(Ee=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1.25rem;\n"]))),Re=E.default.section(Te||(Te=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1.25rem;\n"]))),Ie=E.default.section(Ne||(Ne=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1.25rem;\n  padding: 1.25rem 0;\n  border-top: 1px solid ",";\n"])),(function(e){return e.theme.TOKENS.COLORS.neutral.n05})),Ce=function(){var e,n,t,r,i,a,o,l,d,s,c,u,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:info,f=p.origin,g=p.destination,m=p.category,_=arguments.length>1?arguments[1]:void 0,v=arguments.length>2?arguments[2]:void 0,x=arguments.length>3?arguments[3]:void 0,h=arguments.length>4?arguments[4]:void 0,b=arguments.length>5?arguments[5]:void 0,y=arguments.length>6?arguments[6]:void 0,w=arguments.length>7?arguments[7]:void 0,O=arguments.length>8?arguments[8]:void 0;return{carryOnBaggage:{textVariables:{weight:"".concat(null===v||void 0===v||null===(e=v.carryOnBaggage)||void 0===e?void 0:e.weight)},titleVariables:{count:null===v||void 0===v||null===(n=v.carryOnBaggage)||void 0===n?void 0:n.units},url:b,linkType:"HoldBaggage",name:"bag",plural:{title:(null===v||void 0===v||null===(t=v.carryOnBaggage)||void 0===t?void 0:t.units)>1}},checkedInBaggage:{textVariables:{weight:"".concat(null===v||void 0===v||null===(r=v.checkedInBaggage)||void 0===r?void 0:r.weight)},titleVariables:{count:null===v||void 0===v||null===(i=v.checkedInBaggage)||void 0===i?void 0:i.units},url:b,linkType:"CheckedBaggage",name:"bag",plural:{title:(null===v||void 0===v||null===(a=v.checkedInBaggage)||void 0===a?void 0:a.units)>1}},exchanges:{textVariables:{category:m,from:f,to:g,price:(0,oe.t_)(null===x||void 0===x||null===(o=x.exchanges)||void 0===o?void 0:o.value,null===x||void 0===x||null===(l=x.exchanges)||void 0===l?void 0:l.currency,y,w)},extraType:function(){var e;return 0==(null===x||void 0===x||null===(e=x.exchanges)||void 0===e?void 0:e.value)?"Nofees":""}},refundFees:{textVariables:{percent:null===x||void 0===x||null===(d=x.refundFees)||void 0===d||null===(s=d.boardingFee)||void 0===s?void 0:s.value,from:f,to:g},titleVariables:{percent:null===x||void 0===x||null===(c=x.refundFees)||void 0===c||null===(u=c.ticket)||void 0===u?void 0:u.value},extraType:function(){var e,n,t,r;return null!==x&&void 0!==x&&null!==(e=x.refundFees)&&void 0!==e&&null!==(n=e.boardingFee)&&void 0!==n&&n.show&&null!==x&&void 0!==x&&null!==(t=x.refundFees)&&void 0!==t&&null!==(r=t.ticket)&&void 0!==r&&r.show?"":"Boarding"}},food:{extraType:function(){return(0,oe.kC)(_.food)}},seatSelection:{url:h,linkType:"Seat",name:"seat"},latamFlex:O||{}}};function Ae(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ae(Object(t),!0).forEach((function(n){(0,R.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ae(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ze=function(){var e,n,t,r,i=(0,h.useTranslation)().t,a=V().TOKENS.COLORS.primary.dark,o=(0,p.useContext)(m),l=o.currentState,d=o.extraAllowances,s=o.lang,c=o.country,u=o.orderId,f=o.features,g=o.latamFlex,_=o.lastname,v=["personalItem","carryOnBaggage","checkedInBaggage","seatSelection","blockedSeat","bedSeat","moreSpaceSeat","food","exchanges","refundFees","latamFlex"],x=null!==(e=null===l||void 0===l||null===(n=l.payload)||void 0===n?void 0:n.activeSegmentIndex)&&void 0!==e?e:0,b=d.itinerary[x],w=(0,oe.rO)("".concat((0,O.qu)(s),"?id=").concat(u,"&lastname=").concat(_,"&origin=om"),"".concat(s,"-").concat(c),s,c),S=(0,oe.rO)("".concat((0,O.$z)(s),"?id=").concat(u,"&lastname=").concat(_,"&origin=om"),"".concat(s,"-").concat(c),s,c),E=b.info,T=b.extraAllowancesOffer,N=b.extraAllowances,D=b.fareRules,k=b.exclude,R=b.include,I=null!==(t={PREMIUMECONOMY:"Premium Economy",BUSINESS:"Premium Business"}[null===E||void 0===E||null===(r=E.cabinClass)||void 0===r?void 0:r.toUpperCase()])&&void 0!==t?t:E.cabinClass,C={fare:E.category,cabin:I},A=Ce(E,N,T,D,w,S,s,c,g),P=null===E||void 0===E?void 0:E.refundExchangeCase,Z=null===E||void 0===E?void 0:E.showAlertType;return(0,y.jsxs)(ke,{id:l.state,children:[(0,y.jsx)(be,{}),Z&&(0,y.jsx)(De,{type:"ancillaries"}),(0,y.jsxs)(Re,{"aria-label":i("xp_order_web_secondDetail_fareDetail_srFareIncludedTitle",Pe(Pe({},C),{},{output:"string"})),id:"include-list",children:[(0,y.jsxs)(j.Typography,{variant:"heading-06",color:a,fontWeight:"normal","aria-hidden":"true",children:[" ",i("xp_order_web_secondDetail_fareDetail_fareIncludedTitle",{fare:C.fare})]}),k.length>0?v.map((function(e,n){var t,r;if(!R.includes(e))return null;var i=null===A||void 0===A?void 0:A[e],a=null!==(t=null===i||void 0===i||null===(r=i.extraType)||void 0===r?void 0:r.call(i))&&void 0!==t?t:"",o="".concat(e).concat(a);return(0,y.jsx)(fe,Pe(Pe({id:o,type:o},i),{},{latamFlex:g,lang:s,country:c}),"allowances-included-".concat(n))})):v.filter((function(e){return Boolean(N[e])||Boolean(T[e])||Boolean(D[e])})).map((function(e,n){var t,r,i=null===A||void 0===A?void 0:A[e],a=null!==(t=null===i||void 0===i||null===(r=i.extraType)||void 0===r?void 0:r.call(i))&&void 0!==t?t:"",o="".concat(e).concat(a);return(0,y.jsx)(fe,Pe(Pe({id:o,type:o},i),{},{latamFlex:g,lang:s,country:c}),"allowances-included-".concat(n))})),(null===f||void 0===f?void 0:f.toggleDisclaimer)&&P&&(0,y.jsx)(De,{type:"disclaimer"})]}),k.length>0&&(0,y.jsxs)(Ie,{"aria-label":i("xp_order_web_secondDetail_fareDetail_srFareExcludedTitle",Pe(Pe({},C),{},{output:"string"})),id:"exclude-list",children:[(0,y.jsxs)(j.Typography,{variant:"heading-06",color:a,fontWeight:"normal","aria-hidden":"true",children:[" ",i("xp_order_web_secondDetail_fareDetail_fareExcludedTitle",Pe({},C))]}),v.map((function(e,n){if(!k.includes(e))return null;var t=null===A||void 0===A?void 0:A[e];return(0,y.jsx)(fe,Pe({id:e,type:e,isExcluded:!0},t),"allowances-excluded-".concat(n))}))]})]})},Fe=t(71899),Le=function(e){var n=e.orderId,t=e.locale,r=t.lang,i=t.country,a=e.features,o=e.lastname,l={showModal:Ze,error:k},c=(0,p.useState)(null),f=c[0],m=c[1],h=(0,p.useState)(null),b=h[0],O=h[1],j=(0,v.j)(x),S=(0,s.Z)(j,2),E=S[0],T=S[1],N={extraAllowances:f,currentState:E,lang:r,country:i,orderId:n,transition:T,features:a,lastname:o,latamFlex:b},R=(0,D.SL)(),I=function(){var e=(0,d.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R.sendDisplayedEvent({action:"Cross ancillaries fare details",label:"Fare details modal"}),e.next=3,Z();case 3:return e.next=5,F();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,d.Z)(u().mark((function e(){var n,t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,oe.ej)("FareDetail"),t=Fe.Z.get("FareDetail"),f&&(r=!0,f.itinerary.forEach((function(e){var n,t;r=r&&Boolean((null===e||void 0===e||null===(n=e.fareRules)||void 0===n?void 0:n.exchanges)&&(null===e||void 0===e||null===(t=e.fareRules)||void 0===t?void 0:t.refundFees))})),r&&P(n,t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){return setTimeout((function(){KAMPYLE_ONSITE_SDK.updatePageView()}),3e3)},P=function(e,n){return e||n?!e&&n?((0,oe.d8)("FareDetail"),void A()):void(!e||n||Fe.Z.set("FareDetail",!0)):((0,oe.d8)("FareDetail"),Fe.Z.set("FareDetail",!0),void A())},Z=function(){var e=(0,d.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,(0,_._L)(n,r,i,"fareDetailSecondLevel");case 3:200===(t=e.sent).status?(m(t.data),T({type:"RECEIVED_DATA"})):T({type:"ERROR"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,d.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("fareDetailSecondLevelLatamFlex",!n){e.next=6;break}return e.next=4,(0,_.VW)({orderId:n,lang:r,country:i,actionName:"fareDetailSecondLevelLatamFlex"});case 4:t=e.sent,O(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsx)(g,{value:N,children:(0,y.jsx)(w,{onModalInit:I,onModalClose:C,body:l[E.state]})})}},67138:function(e,n,t){t.d(n,{Z:function(){return Ye}});var r,i,a,o,l,d,s,c,u,p,f,g,m,_,v,x,h=t(50029),b=t(27812),y=t(87794),w=t.n(y),O=t(11163),j=t(67294),S=t(39485),E=t(71383),T=t(51192),N=t(62586),D=t.n(N),k=D().TOKENS,R=k.COLORS,I=k.BREAKPOINTS,C=k.FONTS,A=T.default.div(r||(r=(0,E.Z)(["\n  padding: 1rem;\n  ","\n"])),I.large(i||(i=(0,E.Z)(["\n    padding-left: 0;\n  "])))),P=T.default.section(a||(a=(0,E.Z)(["\n  ","\n"])),I.large(o||(o=(0,E.Z)(["\n    .notAdmin {\n      display: none;\n    }\n\n    .Admin {\n      display: block;\n    }\n  "])))),Z=T.default.section(l||(l=(0,E.Z)(["\n  font-size: 1rem;\n  color: ",";\n  line-height: 1.375rem;\n"])),R.neutral.n01),F=T.default.div(d||(d=(0,E.Z)(["\n  padding-top: 2rem;\n  padding-bottom: 1rem;\n  font-size: 1rem;\n  font-weight: ",";\n  color: ",";\n  line-height: 1.375rem;\n"])),C.weight.bold,R.primary.dark);F.displayName="Title";var L=T.default.div(s||(s=(0,E.Z)(["\n  background: ",";\n  border-radius: 0.5rem;\n"])),D().TOKENS.COLORS.neutral.n06),M=T.default.div(c||(c=(0,E.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n  cursor: pointer;\n"]))),B=T.default.span(u||(u=(0,E.Z)(["\n  width: 2.5rem;\n  height: 2.5rem;\n  background: ",";\n  border-radius: 0.5rem;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1rem;\n  color: ",";\n\n  svg {\n    width: 1.5rem;\n    height: 1.5rem;\n  }\n"])),D().TOKENS.COLORS.utility.u04,D().TOKENS.COLORS.neutral.n07),U=T.default.div(p||(p=(0,E.Z)(["\n  color: ",";\n  font-size: 0.875rem;\n  padding-left: 0.5rem;\n  font-weight: bold;\n  font-style: italic;\n  max-width: 80%;\n  word-break: break-all;\n\n  p {\n    letter-spacing: 0.1.5625rem;\n    color: ",";\n    font-size: 1rem;\n    line-height: 1.25rem;\n  }\n"])),D().TOKENS.COLORS.neutral.n02,D().TOKENS.COLORS.neutral.n01),K=T.default.div(f||(f=(0,E.Z)(["\n  margin-left: auto;\n"]))),W=T.default.div(g||(g=(0,E.Z)(["\n  border-top: 0.0625rem solid #e0e0e0;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  line-height: 1.25rem;\n"]))),V=T.default.div(m||(m=(0,E.Z)(["\n  line-height: 1.25rem;\n  font-size: 0.875rem;\n  color: ",";\n"])),D().TOKENS.COLORS.neutral.n02),G=(T.default.div(_||(_=(0,E.Z)(["\n  line-height: 1.25rem;\n  font-size: 0.875rem;\n  color: ",";\n"])),D().TOKENS.COLORS.neutral.n02),T.default.div(v||(v=(0,E.Z)([""])))),H=T.default.p(x||(x=(0,E.Z)([""])));L.displayName="HeaderAdmin",M.displayName="TitleHeader",U.displayName="NameAdmin",K.displayName="IconWrapper",W.displayName="ExpandedTitle",G.displayName="Admin",H.displayName="EmailAdminParagraph";var z,X,Y,q,Q,$,J,ee,ne,te=t(27701),re=t(66434),ie=t(71628),ae=t(67567),oe=t(12542),le=t(85893),de=function(e){var n,t=e.order,r=(0,S.useTranslation)().t,i=(0,j.useContext)(te.S).user,a=i&&(null===i||void 0===i||null===(n=i.roles)||void 0===n?void 0:n.includes("agent")),o=(0,j.useState)(!1),l=o[0],d=o[1],s=(0,j.useState)(!1),c=s[0],u=s[1],p=function(e){u({email:null!==e&&void 0!==e&&e.email?null===e||void 0===e?void 0:e.email:null,displayExtend:null===e||void 0===e?void 0:e.displayExtend})},f=function(){i&&(!function(){if(null!==t&&void 0!==t&&t.userId){var e={email:null,displayExtend:!1};(null===t||void 0===t?void 0:t.userId)===i.userId||a?(e.email=t.userEmail,e.displayExtend=!0):e.email=(0,re.iD)(null===t||void 0===t?void 0:t.userEmail),p(e)}}(),null!==t&&void 0!==t&&t.userId||p(a?{email:null===t||void 0===t?void 0:t.userEmail,displayExtend:!0}:{email:(0,re.iD)(null===t||void 0===t?void 0:t.userEmail),displayExtend:!1}))},g=function(){f(),function(){if(!i){var e=null===t||void 0===t?void 0:t.userEmail;p({email:(0,re.iD)(e),displayExtend:!1})}}()};return(0,j.useEffect)((function(){g()}),[]),(0,le.jsxs)(L,{children:[c&&null!==c.email?(0,le.jsx)(G,{children:(0,le.jsxs)(M,{onClick:function(){null!==c&&void 0!==c&&c.email&&d(!l)},children:[(0,le.jsx)(B,{className:"ignore-disable",children:(0,le.jsx)(oe.Identify,{size:"medium"})}),(0,le.jsxs)(U,{children:[(0,le.jsx)("p",{children:r("xp_order_web_tripManage_tripManager",{output:"string"})}),(0,le.jsx)(H,{"data-testId":"fs-mask-admin-email",className:"fs-mask",children:null===c||void 0===c?void 0:c.email})]}),(null===c||void 0===c?void 0:c.displayExtend)&&(0,le.jsx)(K,{children:l?(0,le.jsx)(ie.CaretUpMedium,{color:D().TOKENS.COLORS.secondary.normal}):(0,le.jsx)(ae.CaretDownMedium,{color:D().TOKENS.COLORS.secondary.normal})})]})}):null,l&&c&&c.displayExtend&&(0,le.jsx)(W,{children:(0,le.jsx)(V,{"data-testId":"fs-mask-admin-email-expanded",className:"fs-mask",children:null===c||void 0===c?void 0:c.email})})]})},se=t(59499),ce=t(16283),ue=T.default.div(z||(z=(0,E.Z)(["\n  margin-left: auto;\n  color: ",";\n  font-weight: ",";\n  font-size: 1rem;\n"])),D().TOKENS.COLORS.secondary.normal,D().TOKENS.FONTS.weight.bold),pe=T.default.div(X||(X=(0,E.Z)(["\n  margin-left: auto;\n"]))),fe=T.default.ul(Y||(Y=(0,E.Z)(["\n  a {\n    width: 100%;\n  }\n"]))),ge=T.default.li(q||(q=(0,E.Z)(["\n  height: 3.5rem;\n  display: flex;\n  align-items: center;\n  border-bottom: 0.0625rem solid ",";\n  cursor: pointer;\n"])),D().TOKENS.COLORS.neutral.n05),me=T.default.a(Q||(Q=(0,E.Z)(["\n  height: 3.5rem;\n  display: flex;\n  align-items: center;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  cursor: pointer;\n\n  ","\n"])),ce.e.desktop($||($=(0,E.Z)(["\n    padding-left: 1rem;\n    padding-right: 1rem;\n  "])))),_e=T.default.div(J||(J=(0,E.Z)(["\n  svg {\n    width: 1.5rem;\n    height: 1.5rem;\n  }\n"]))),ve=T.default.div(ee||(ee=(0,E.Z)(["\n  font-size: 1rem;\n  line-height: 1.375rem;\n  color: ",";\n  padding-left: 1rem;\n"])),D().TOKENS.COLORS.neutral.n01),xe=T.default.div(ne||(ne=(0,E.Z)(["\n  margin-left: auto;\n"])));ge.displayName="OptionWrapper";var he=t(73776),be=t(56727),ye=t(50097);function we(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?we(Object(t),!0).forEach((function(n){(0,se.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):we(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var je=function(e){var n=e.options,t=e.loading,r=(0,S.useTranslation)().t,i=function(e){return e.loading?(0,le.jsx)(pe,{children:(0,le.jsx)(he.Progress,{id:"loading-download-receipt",size:"small"})}):(0,le.jsx)(ue,{children:r("xp_order_web_tripManage_downloadReceipt",{output:"string"})})},a=function(e,n){var r,a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=o?{}:{href:"javascript:void(0);"};return(0,le.jsx)(ge,{children:(0,le.jsxs)(me,Oe(Oe({},l),{},{"data-test-id":null!==(r=e.id)&&void 0!==r?r:"",onClick:null!==(a=e.action)&&void 0!==a?a:function(){},children:[(0,le.jsx)(_e,{children:e.iconName}),(0,le.jsx)(ve,{children:e.name}),e.downloadButton?(0,le.jsx)(i,{loading:t}):(0,le.jsx)(xe,{children:(0,le.jsx)(ye.CaretRightMedium,{color:D().TOKENS.COLORS.secondary.normal})})]}))},n)};return(0,le.jsx)(le.Fragment,{children:(0,le.jsx)(fe,{"aria-labelledby":"mainmenulabel",children:n&&n.map((function(e,n){return(0,le.jsx)(le.Fragment,{children:e.modal?(0,le.jsx)(be.DialogSideRight,{id:e.modal.id,path:e.modal.path,title:e.modal.title,body:e.modal.component,closeLabel:"Cerrar",children:a(e,n,!0)}):a(e,n,!1)})}))})})},Se=t(1680),Ee=t(47594),Te=t(92544),Ne=t(39355),De=t(23729),ke=t(98855),Re=t(67381),Ie=t(68486),Ce=t(3607),Ae=t(41426),Pe=t(95896),Ze=t(12409),Fe=t(41822),Le=t(44471),Me=t(31290),Be=t(50082),Ue=t(69603),Ke=t(71899),We=t(99164),Ve=t(40810),Ge=t(16835),He="X-latam-Track-Id";function ze(e){if(!e||"object"!==typeof e)return null;var n="response"in e&&"object"===typeof e.response&&e.response||null;if(n){var t="config"in n&&"object"===typeof n.config&&n.config||null;if(t){var r="headers"in t&&"object"===typeof t.headers&&t.headers||null;if(r)return function(e){if(e)return e.get(He)||null;var n=Object.entries(e).filter((function(e){var n=(0,Ge.Z)(e,2),t=n[0],r=n[1];return"string"===typeof t&&"string"===typeof r}));return new Headers(n).get(He)||null}(r)}}return null}var Xe=function(e){return e.reduce((function(e,n){return[].concat((0,b.Z)(e),[n]).filter((function(e){return e.show}))}),[])},Ye=function(e){var n,t,r,i,a,o,l,d,s=(0,j.useContext)(te.S),c=s.user,u=s.home,p=s.lang,f=s.country,g=s.originalCountry,m=s.features,_=(0,O.useRouter)(),v=_.query,x=_.push,b=(0,Be.Xh)(),y=e.order,E=e.disableAll,T=e.emailAssignment,N=e.reservationWithoutItinerary,D=e.isInContingency,k=(0,S.useTranslation)().t,R=(0,j.useState)(!1),I=R[0],C=R[1],L=(0,j.useState)(!1),M=L[0],B=L[1],U=(0,j.useRef)(),K=null===y||void 0===y?void 0:y.reservationOpenTicket,W=c&&c.roles.includes("agent"),V=!!c&&c.roles.includes("customer"),G=(0,Ee.useURL)().getURL({app:Te.ARTIFACT_NAMES.UPGRADE_CABIN,page:["home"]}),H=(0,j.useMemo)((function(){return(!c||!c.roles.includes("agent"))&&(!N&&!K)}),[c,N,K]),z=(0,Be.SL)(),X=z.sendImpressionEvent,Y=z.sendPromotionClickEvent,q=z.hasPromotionImpresion,Q=z.sendDisplayedEvent,$=z.sendGA4ExclusiveEvent,J=null===b||void 0===b||null===(n=b.products)||void 0===n?void 0:n.find((function(e){return e.id.includes("upgbid")})),ee="upgbid_pb"===(null===J||void 0===J?void 0:J.id)?"BANNER-UPGPremiumBusiness":"BANNER-UPGPremiumEconomy",ne="Cross ancillaries sidebar menu",ie={id:ee,name:ee,creative:ne,position:0},ae="BANNER-SDFC",oe=null===b||void 0===b||null===(t=b.products)||void 0===t?void 0:t.find((function(e){return"same_day_flight_change"===e.id})),se=(null===oe||void 0===oe||null===(r=oe.properties)||void 0===r?void 0:r.inbound)&&!(null!==oe&&void 0!==oe&&null!==(i=oe.properties)&&void 0!==i&&i.outbound),ce=(null===oe||void 0===oe||null===(a=oe.properties)||void 0===a?void 0:a.outbound)&&!(null!==oe&&void 0!==oe&&null!==(o=oe.properties)&&void 0!==o&&o.inbound),ue=se||ce,pe={id:ae,name:ae,creative:ne,position:0},fe=null===b||void 0===b||null===(l=b.products)||void 0===l?void 0:l.find((function(e){return"ricale"===e.id})),ge=v.orderId,me=v.lastname,_e="".concat({pt:"/notificacoes",es:"/notificaciones",en:"/notifications",de:"/benachrichtigungen",fr:"/notifications",it:"/notifiche"}[p],"?orderId=").concat(ge)+"&lastname=".concat(encodeURIComponent(me)),ve=function(){var e=new Date;e.setMonth(e.getMonth()-6);return new Date(y.creationDateTime)>e&&!y.migrated&&["WEB","APP"].includes(y.origin)&&!W&&V},xe=[{code:"PASSENGER",iconName:(0,le.jsx)(ke.User,{}),id:"manage-passenger-info",name:k("xp_order_web_tripManage_checkPassengerInformation",{output:"string"}),action:function(e){$("menu",{category:"Cross ancillaries sidebar menu",element:k("xp_order_web_tripManage_checkPassengerInformation",{output:"string"})}),window.location.href=(0,re.th)(re.f4.passengersInfo,u,p,g)},show:!0},{iconName:(0,le.jsx)(Me.Bell,{}),id:"notifications",name:k("xp_order_web_tripManage_notificationsTxt",{output:"string"}),action:function(){window.location.href=(0,re.rO)(_e,u,p,g),$("menu",{category:"Cross ancillaries sidebar menu",element:k("xp_order_web_tripManage_notificationsTxt",{output:"string"})})},show:Boolean(me)},{iconName:(0,le.jsx)(De.Form,{}),id:"fare-detail-button",name:k("xp_web_order_fare_detail_button"),action:function(){Q({action:"Cross ancillaries sidebar menu",label:"Fare details button"}),(null===fe||void 0===fe?void 0:fe.url)&&$("modal",{action:"Show",name:"Fare details"}),function(e){var n=null===e||void 0===e?void 0:e.url;e?window.open(n,"_blank"):window.location.href="#FareDetail"}(fe)},show:!N,tag:k("xp_web_order_fare_detail_button_tag")}],be=[{code:"UPG BID",iconName:(0,le.jsx)(Pe.UpfrontSeat,{}),id:"manage-postulate-upg-bid",name:k("xp_order_web_tripManage_bidForCabinUpgradeTxt",{output:"string"}),action:function(){Y(ie),window.open(null===J||void 0===J?void 0:J.url,"_blank")},show:Boolean(J)},{code:"UPG",iconName:(0,le.jsx)(Ce.Upgrade,{}),id:"manage-postulate-upg",name:k("xp_order_web_tripManage_cabinUpgradeLeg",{output:"string"}),action:function(){$("menu",{category:"Cross ancillaries sidebar menu",name:k("xp_order_web_tripManage_cabinUpgradeLeg",{output:"string"})}),window.location.href=G},show:H}],ye=[{code:"SDFC",iconName:(0,le.jsx)(Ae.FlightStatus,{}),id:"manage-same-day-flight-change",name:k("xp_order_web_tripManage_sameDayFlightChangeTxt",{output:"string"}),action:function(){oe&&ue&&Y(pe);var e=Object.values(null===oe||void 0===oe?void 0:oe.properties)[0].url;window.open(e,"_blank")},show:Boolean(oe&&ue)},{code:"EXCHANGE",iconName:(0,le.jsx)(Re.Tours,{}),id:"manage-exchange-option",name:k("xp_order_web_tripManage_ticketsChangeTxt",{output:"string"}),action:function(){window.location.href=(0,Se.S)((0,re.rO)("".concat((0,Ve.Pd)(p)).concat(re.f4.validateOrder),u,p,g),{exchange:!0}),$("menu",{category:"Cross ancillaries sidebar menu",name:k("xp_order_web_tripManage_ticketsChangeTxt",{output:"string"})})},show:!N&&!K||N&&D},{code:"REFUND",iconName:(0,le.jsx)(Ie.Returns,{}),id:"manage-refund-option",name:k("xp_order_web_tripManage_ticketsRefund",{output:"string"}),action:function(){$("menu",{category:"Cross ancillaries sidebar menu",name:k("xp_order_web_tripManage_ticketsRefund",{output:"string"})}),window.location.href=(0,Se.S)((0,re.rO)("".concat((0,Ve.Pd)(p)).concat(re.f4.validateOrder),u,p,g),{refund:!0})},show:!N||N&&D}],we=[{iconName:(0,le.jsx)(Fe.Download,{}),id:"manage-purchase-receipt",name:k("xp_order_web_tripManage_purchaseReceipt",{output:"string"}),downloadButton:!0,action:function(){var e=(0,h.Z)(w().mark((function e(){var n,t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=2;break}return e.abrupt("return");case 2:return C(!0),"getBillingDocuments",e.next=6,(0,Ue.yc)({orderId:ge,lang:p,country:f,actionName:"getBillingDocuments"});case 6:t=e.sent,C(!1),null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.downloadLinks?t.data.downloadLinks.forEach((function(e,n){var t=(0,re.dv)(e);setTimeout((function(){var n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}),300*n)})):(B(!0),clearTimeout(U.current),U.current=setTimeout((function(){Oe()}),1e4));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),show:ve()}],Oe=function(){B(!1)},Ge=(0,j.useState)(!1),He=Ge[0],Ye=Ge[1],qe=(0,j.useState)(!1),Qe=qe[0],$e=qe[1],Je=(0,j.useState)(""),en=Je[0],nn=Je[1],tn={"XP.BUSINESS.ERROR.PASSENGER_RULE":"xp_order_web_tripManage_orderSplit_snackBarValidation1","XP.BUSINESS.ERROR.OLDER_ORDER":"xp_order_web_tripManage_orderSplit_snackBarValidation2","XP.BUSINESS.ERROR.SPLITTED_ORDER":"xp_order_web_tripManage_orderSplit_snackBarValidation3","XP.BUSINESS.ERROR.ORDER_IN_CONTINGENCY":"xp_order_web_tripManage_orderSplit_snackBarValidation4"},rn=[{iconName:(0,le.jsx)(Le.Capacity,{}),id:"order-split",name:k("xp_order_web_tripManage_orderSplit",{output:"string"}),action:function(){var e=(0,h.Z)(w().mark((function e(){var n,t,r,i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $e(!0),Ye(!0),n=(0,re.rO)(re.f4.homeOM360,u,p,g),t=(0,Se.S)(n+"/split-order"),r=(0,Se.S)((0,re.rO)(re.f4.homeAgents360,u,p,g)+"/error"),"getSplitOrder",e.prev=6,e.next=9,(0,Ue.SQ)(y.id,p,f,g,"getSplitOrder");case 9:(i=e.sent).status&&"MULTI_STATUS"===i.status?(a=tn[i.code],nn(k(a))):(Ke.Z.set(We.WV.orderId,y.id),Ke.Z.set(We.WV.splitOrder,i),Ye(!1),x(t)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(6),Ye(!1),Ke.Z.set(We.WV.trackId,{code:e.t0.status,trackId:ze(e.t0)}),x(r);case 18:return e.prev=18,$e(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[6,13,18,21]])})));return function(){return e.apply(this,arguments)}}(),show:null!==(d=null===m||void 0===m?void 0:m.toggleSplitOrder)&&void 0!==d&&d},{iconName:(0,le.jsx)(Ze.Documents,{}),id:"special-services-detail",name:k("xp_order_web_tripManage_seeSpecialServices",{output:"string"}),action:function(){Ke.Z.set(We.WV.orderId,null===y||void 0===y?void 0:y.id),window.location.href=(0,Se.S)((0,re.rO)(re.f4.specialServices,u,p,g))},show:!0},{iconName:(0,le.jsx)(Ze.Documents,{}),id:"remarks-detail",name:k("xp_order_web_tripManage_viewRemarks",{output:"string"}),action:function(){var e=(0,re.rO)(re.f4.homeOM360,u,p,g),n=(0,Se.S)(e+"".concat(null===y||void 0===y?void 0:y.id,"/history"));window.location.href=n},show:!0}];return(0,j.useEffect)((function(){var e=q(ee,ne,"promotionImpression"),n=q(ae,ne,"promotionImpression");Boolean(J)&&!e&&X(ie),Boolean(oe)&&!n&&X(pe)}),[b]),(0,le.jsxs)(A,{children:[T&&(0,le.jsx)(Ne.Z,{emailAssignment:T}),(0,le.jsx)(de,{order:y}),!E&&(0,le.jsxs)(le.Fragment,{children:[(0,le.jsxs)(P,{"aria-label":k("xp_order_web_tripManage_tripInfoTxt",{output:"string"}),children:[(0,le.jsx)(F,{className:null===(null===y||void 0===y?void 0:y.userEmail)?"notAdmin":"Admin",children:k("xp_order_web_tripManage_tripInfoTxt",{output:"string"})}),(0,le.jsx)(je,{options:Xe(xe)})]}),(0,le.jsxs)(le.Fragment,{children:[Boolean(J||H)&&(0,le.jsxs)(Z,{id:"manage-cabin-upgrade","aria-label":k("xp_order_web_tripManage_cabinUpgradeTxt",{output:"string"}),children:[(0,le.jsx)(F,{id:"",children:k("xp_order_web_tripManage_cabinUpgradeTxt",{output:"string"})}),(0,le.jsx)(je,{options:Xe(be)})]}),Boolean(oe||!N||N&&D)&&(0,le.jsxs)(Z,{id:"manage-changes-and-refunds","aria-label":k("xp_order_web_tripManage_changesAndRefundsTxt",{output:"string"}),children:[(0,le.jsx)(F,{children:k("xp_order_web_tripManage_changesAndRefundsTxt",{output:"string"})}),(0,le.jsx)(je,{options:Xe(ye)})]}),Boolean(ve())&&(0,le.jsxs)(Z,{id:"manage-payments-documents","aria-label":k("xp_order_web_tripManage_paymentDocumentsTxt",{output:"string"}),children:[(0,le.jsx)(F,{children:k("xp_order_web_tripManage_paymentDocumentsTxt",{output:"string"})}),(0,le.jsx)(je,{options:Xe(we),loading:I})]}),Boolean(W)&&(null===m||void 0===m?void 0:m.moreAboutOrder)&&(0,le.jsxs)(Z,{id:"more-about-order","aria-label":k("xp_order_web_tripManage_moreAboutOrder",{output:"string"}),children:[(0,le.jsx)(F,{children:k("xp_order_web_tripManage_moreAboutOrder",{output:"string"})}),(0,le.jsx)(je,{options:Xe(rn)})]}),(0,le.jsx)(he.Snackbar,{id:"service-message-error-snackbar",open:M,onClose:Oe,status:"warning",children:k("xp_order_web_tripManage_receiptServiceUnavailable",{output:"string"})}),(0,le.jsx)(he.Snackbar,{id:"second-detail-snackbar-split-order","data-testid":"second-detail-snackbar-split-order",onClose:function(){return Ye(!1)},open:He,status:Qe||"warning",children:Qe?k("xp_order_web_tripManage_snackbarLoading"):en})]})]})]})}},44601:function(e,n,t){t.d(n,{j:function(){return i}});var r=t(67294),i=function(e){return(0,r.useReducer)(function(e){return function(n,t){var r,i,a;return{state:(null!==(r=null===(i=e.states[n.state].on)||void 0===i?void 0:i[t.type])&&void 0!==r?r:{target:n.state}).target,payload:null!==(a=t.payload)&&void 0!==a?a:{}}}}(e),{state:e.initial})}},27701:function(e,n,t){t.d(n,{S:function(){return r},d:function(){return i}});var r=(0,t(67294).createContext)(),i=r.Provider},16283:function(e,n,t){t.d(n,{e:function(){return l}});var r,i=t(71383),a=t(51192),o={mobile:360,tablet:960,desktop:1200},l=Object.keys(o).reduce((function(e,n){var t=function(e){switch(e){case"mobile":case"desktop":return"@media (min-width: ".concat(o[e],"px)");case"tablet":return"@media (min-width: ".concat(o[e],"px) and \n      (max-width: ").concat(o.desktop-1,"px)")}}(n);return e[n]=function(){return(0,a.css)(r||(r=(0,i.Z)(["\n    "," {\n      ",";\n    }\n  "])),t,a.css.apply(void 0,arguments))},e}),{})}}]);